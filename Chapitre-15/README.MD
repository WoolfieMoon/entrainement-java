##  Chapitre 15 ‚Äì Les Guildes distribu√©es : communication r√©seau en Java

Dans les Terres Bris√©es, les guildes magiques sont dispers√©es. Pour communiquer, elles utilisent les Cristaux de Transmission ‚Äì une forme ancienne de r√©seau magique. Gr√¢ce √† la magie des sockets, ces guildes peuvent √©changer messages et informations en temps r√©el.

Dans ce chapitre, tu vas apprendre √† :

    - Cr√©er un serveur et un client en Java avec Socket et ServerSocket

    - Envoyer et recevoir des messages en texte

    - G√©rer les flux r√©seau (InputStream, OutputStream)

    - Concevoir une communication bidirectionnelle
# Exercice 1 ‚Äì Premier lien magique (serveur simple)

**Contexte narratif :**  
Tu ouvres un **portail de communication** pour permettre √† d'autres mages de t‚Äôenvoyer un message.

**√ânonc√© :**
1. Cr√©e une classe `ServeurMagique`.
2. √âcoute sur le port `5000` via un `ServerSocket`.
3. Accepte une connexion.
4. Lis un message texte envoy√© par le client.
5. Affiche dans la console :

üì© Message re√ßu : <message>

6. Ferme les flux et la connexion proprement.

# Exercice 2 ‚Äì L‚Äô√©metteur de sort (client simple)

**Contexte narratif :**  
Tu veux envoyer un **sort de contact** √† un autre mage via le r√©seau magique.

**√ânonc√© :**
1. Cr√©e une classe `ClientMagique`.
2. Connecte-toi √† `localhost` sur le port `5000`.
3. Envoie le message :

Salutations du mage Elion.

4. Ferme la connexion proprement.

**Remarque :**  
Lance d‚Äôabord le serveur de l‚Äôexercice 1 avant ce client.

# Exercice 3 ‚Äì R√©ception am√©lior√©e (lecture ligne)

**Contexte narratif :**  
Ton cristal est maintenant capable de lire **plusieurs lignes** d‚Äôun message magique.

**√ânonc√© :**
1. Modifie `ServeurMagique` pour lire le message ligne par ligne via `BufferedReader`.
2. Continue jusqu‚Äô√† ce que le client ferme la connexion.
3. Affiche chaque ligne re√ßue avec :

‚úâÔ∏è <ligne>
# Exercice 4 ‚Äì R√©ponse magique (serveur qui r√©pond)

**Contexte narratif :**  
Tu veux que le serveur **r√©ponde** apr√®s avoir re√ßu un sort, comme un √©cho magique.

**√ânonc√© :**
1. Dans `ServeurMagique`, lis une ligne.
2. R√©ponds avec :

Bien re√ßu, mage.

3. Le client doit lire cette r√©ponse et l‚Äôafficher dans sa console.

# Exercice 5 ‚Äì Dialogue entre deux mages

**Contexte narratif :**  
Deux mages veulent discuter via un **canal magique** bidirectionnel.

**√ânonc√© :**
1. Le serveur lit un message, puis r√©pond.
2. Le client envoie un message, puis lit la r√©ponse.
3. Affiche dans le client :

R√©ponse du cristal : Bien re√ßu, mage.

4. Utilise `BufferedReader` et `PrintWriter` des deux c√¥t√©s.

# Exercice 6 ‚Äì Le cristal r√©p√©titeur (serveur echo en boucle)

**Contexte narratif :**  
Un cristal magique r√©p√®te chaque incantation re√ßue, jusqu‚Äô√† ce qu‚Äôon lui dise `"FIN"`.

**√ânonc√© :**
1. Le serveur reste actif apr√®s chaque message re√ßu.
2. Il r√©pond toujours :

Vous avez dit : <message>

3. Il s‚Äôarr√™te si le client envoie `"FIN"`.
4. Le client peut donc envoyer plusieurs messages √† la suite.

# Exercice 7 ‚Äì Le serveur √©ternel

**Contexte narratif :**  
Un cristal plus avanc√© peut √©couter plusieurs mages (un √† la fois) sans jamais s‚Äôarr√™ter.

**√ânonc√© :**
1. Le serveur √©coute en boucle.
2. √Ä chaque connexion :
    - Il lit un message
    - R√©pond
    - Ferme la connexion
3. Puis il recommence.
4. Il ne s'arr√™te jamais tant qu‚Äôon ne tue pas le processus manuellement.

# Exercice 8 ‚Äì Canal de noms de sorts

**Contexte narratif :**  
Un canal magique enregistre tous les sorts envoy√©s par les mages et les affiche √† la r√©ception.

**√ânonc√© :**
1. Le client demande √† l‚Äôutilisateur de saisir un nom de sort dans la console (`Scanner`).
2. Il envoie ce nom au serveur.
3. Le serveur affiche :

Sort re√ßu : <nom>

4. Tu peux tester plusieurs fois avec des clients diff√©rents.

# Exercice 9 ‚Äì Multiclient (version simple, s√©quentielle)

**Contexte narratif :**  
Un cristal g√®re une **file** de mages voulant s‚Äôexprimer les uns apr√®s les autres.

**√ânonc√© :**
1. Le serveur doit accepter plusieurs connexions **s√©quentielles**.
2. √Ä chaque connexion :
    - Il lit un message
    - R√©pond `"Sort re√ßu avec succ√®s."`
3. Il reste toujours actif.

**Remarque :**  
Chaque client devra se connecter apr√®s que le pr√©c√©dent ait termin√©.

# Exercice 10 ‚Äì Envoi de r√©ponse personnalis√©e

**Contexte narratif :**  
Le cristal devine l‚Äôorigine du message et personnalise sa r√©ponse.

**√ânonc√© :**
1. Le client envoie : `"Je suis le mage <nom>."`
2. Le serveur lit la ligne et extrait le nom du mage.
3. Il r√©pond :

Bienvenue, <nom>. Le Conseil t‚Äô√©coute.

4. Exemple :

Bienvenue, Kaelis. Le Conseil t‚Äô√©coute.
